// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-nan@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-error@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-copy@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-inherit@esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-property@esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-read-only-accessor@esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-read-write-accessor@esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/random-base-triangular@esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/buffer-from-string@esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-next-tick@esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-boolean@esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-number@esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string@esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@esm/index.mjs";function y(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})})),t}var w="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function _(){throw new Error("setTimeout has not been defined")}function x(){throw new Error("clearTimeout has not been defined")}var T=_,M=x;function E(e){if(T===setTimeout)return setTimeout(e,0);if((T===_||!T)&&setTimeout)return T=setTimeout,setTimeout(e,0);try{return T(e,0)}catch(t){try{return T.call(null,e,0)}catch(t){return T.call(this,e,0)}}}"function"==typeof w.setTimeout&&(T=setTimeout),"function"==typeof w.clearTimeout&&(M=clearTimeout);var O,N=[],P=!1,k=-1;function L(){P&&O&&(P=!1,O.length?N=O.concat(N):k=-1,N.length&&R())}function R(){if(!P){var e=E(L);P=!0;for(var t=N.length;t;){for(O=N,N=[];++k<t;)O&&O[k].run();k=-1,t=N.length}O=null,P=!1,function(e){if(M===clearTimeout)return clearTimeout(e);if((M===x||!M)&&clearTimeout)return M=clearTimeout,clearTimeout(e);try{M(e)}catch(t){try{return M.call(null,e)}catch(t){return M.call(this,e)}}}(e)}}function W(e,t){this.fun=e,this.array=t}W.prototype.run=function(){this.fun.apply(null,this.array)};function q(){}var D=q,S=q,V=q,A=q,z=q,G=q,C=q;var F=w.performance||{},J=F.now||F.mozNow||F.msNow||F.oNow||F.webkitNow||function(){return(new Date).getTime()};var B=new Date;var I={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];N.push(new W(e,t)),1!==N.length||P||E(R)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:D,addListener:S,once:V,off:A,removeListener:z,removeAllListeners:G,emit:C,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*J.call(F),r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r-=e[0],(n-=e[1])<0&&(r--,n+=1e9)),[r,n]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-B)/1e3}},H=require("stream");"disable"===I.env.READABLE_STREAM&&H?(module.exports=H,exports=module.exports=H.Readable,exports.Readable=H.Readable,exports.Writable=H.Writable,exports.Duplex=H.Duplex,exports.Transform=H.Transform,exports.PassThrough=H.PassThrough,exports.Stream=H):(exports=module.exports=require("./lib/_stream_readable.js"),exports.Stream=H||exports,exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js"));var K=y(Object.freeze({__proto__:null})),Q={objectMode:!1,encoding:null,sep:"\n",copy:!0,siter:1e308},U=h,X=c,Y=f.isPrimitive,Z=g.isPrimitive,$=b.isPrimitive,ee=j.isPrimitive,te=v.isPrimitive,re=p;var ne=function(e,t){return U(t)?X(t,"sep")&&(e.sep=t.sep,!$(e.sep))?new TypeError(re("invalid option. `%s` option must be a string. Option: `%s`.","sep",e.sep)):X(t,"objectMode")&&(e.objectMode=t.objectMode,!Y(e.objectMode))?new TypeError(re("invalid option. `%s` option must be a boolean. Option: `%s`.","objectMode",e.objectMode)):X(t,"encoding")&&(e.encoding=t.encoding,!$(e.encoding)&&null!==e.encoding)?new TypeError(re("invalid option. `%s` option must be a string or null. Option: `%s`.","encoding",e.encoding)):X(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!Z(e.highWaterMark))?new TypeError(re("invalid option. `%s` option must be a nonnegative number. Option: `%s`.","highWaterMark",e.highWaterMark)):X(t,"iter")&&(e.iter=t.iter,!te(e.iter))?new TypeError(re("invalid option. `%s` option must be a nonnegative integer. Option: `%s`.","iter",e.iter)):X(t,"siter")&&(e.siter=t.siter,!ee(e.siter))?new TypeError(re("invalid option. `%s` option must be a positive integer. Option: `%s`.","siter",e.siter)):(X(t,"prng")&&(e.prng=t.prng),X(t,"seed")&&(e.seed=t.seed),X(t,"state")&&(e.state=t.state),X(t,"copy")&&(e.copy=t.copy),null):new TypeError(re("invalid argument. Options argument must be an object. Value: `%s`.",t))};module.exports=void 0!==I&&"renderer"===I.type?require("./browser.js"):require("./node.js");var ie=y(Object.freeze({__proto__:null}))("random:streams:triangular"),se=K.Readable,oe=t.isPrimitive,ae=r,de=n,ue=i,me=s,le=o,pe=e,he=a,ce=d,fe=u.factory,ge=m,be=l,je=p,ve=Q,ye=ne,we=ie;function _e(e,t,r,n){var i,s;if(!(this instanceof _e))return arguments.length>3?new _e(e,t,r,n):new _e(e,t,r);if(!oe(e)||ae(e))throw new TypeError(je("invalid argument. First argument must be a number and not `NaN`. Value: `%s`.",e));if(!oe(t)||ae(t))throw new TypeError(je("invalid argument. Second argument must be a number and not `NaN`. Value: `%s`.",t));if(!oe(r)||ae(r))throw new TypeError(je("invalid argument. Third argument must be a number and not `NaN`. Value: `%s`.",r));if(!(e<=r&&r<=t))throw new RangeError(je("invalid arguments. The condition `a <= c <= b` must be satisfied. Value: `[%f,%f,%f]`.",e,t,r));if(i=ue(ve),arguments.length>3&&(s=ye(i,n)))throw s;return we("Creating a readable stream configured with the following options: %s.",JSON.stringify(i)),se.call(this,i),le(this,"_destroyed",!1),pe(this,"_objectMode",i.objectMode),pe(this,"_sep",i.sep),pe(this,"_iter",i.iter),pe(this,"_siter",i.siter),le(this,"_i",0),pe(this,"_prng",fe(e,t,r,i)),pe(this,"PRNG",this._prng.PRNG),this}me(_e,se),he(_e.prototype,"seed",(function(){return this._prng.seed})),he(_e.prototype,"seedLength",(function(){return this._prng.seedLength})),ce(_e.prototype,"state",(function(){return this._prng.state}),(function(e){this._prng.state=e})),he(_e.prototype,"stateLength",(function(){return this._prng.stateLength})),he(_e.prototype,"byteLength",(function(){return this._prng.byteLength})),pe(_e.prototype,"_read",(function(){var e,t;if(!this._destroyed)for(e=!0;e;){if(this._i+=1,this._i>this._iter)return we("Finished generating pseudorandom numbers."),this.push(null);t=this._prng(),we("Generated a new pseudorandom number. Value: %d. Iter: %d.",t,this._i),!1===this._objectMode&&(t=t.toString(),t=1===this._i?ge(t):ge(this._sep+t)),e=this.push(t),this._i%this._siter==0&&this.emit("state",this.state)}})),pe(_e.prototype,"destroy",(function(e){var t;return this._destroyed?(we("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,be((function(){e&&(we("Stream was destroyed due to an error. Error: %s.",de(e)?e.message:JSON.stringify(e)),t.emit("error",e));we("Closing the stream..."),t.emit("close")})),this)}));var xe=h,Te=i,Me=p,Ee=_e;var Oe=i,Ne=_e;var Pe=e,ke=_e,Le=function(e,t,r,n){var i;if(arguments.length>3){if(!xe(i=n))throw new TypeError(Me("invalid argument. Options argument must be an object. Value: `%s`.",i));i=Te(n,1)}else i={};return i.objectMode=!0,new Ee(e,t,r,i)},Re=function(e,t,r,n){var i,s;return s=1===(i=arguments.length)?Oe(e,1):i>3?Oe(n,1):{},i<3?o:a;function o(e,t,r){return new Ne(e,t,r,s)}function a(){return new Ne(e,t,r,s)}};Pe(ke,"objectMode",Le),Pe(ke,"factory",Re);var We=ke;export{We as default,Re as factory,Le as objectMode};
//# sourceMappingURL=index.mjs.map
